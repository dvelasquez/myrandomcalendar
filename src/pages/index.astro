---
import PublicLayout from '../layouts/PublicLayout.astro';
import ButtonLink from '@/components/ui/button-link';
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';

export const prerender = false; // Required for server actions

// Get user from middleware
const { user } = Astro.locals;

// Redirect authenticated users to dashboard
if (user) {
  return Astro.redirect('/app/dashboard');
}
---

<PublicLayout title="My Random Calendar - Welcome">
  <Card>
    <CardHeader>
      <CardTitle className="text-3xl text-center">
        Welcome to My Random Calendar!
      </CardTitle>
    </CardHeader>
    <CardContent>
      <div class="text-center space-y-6">
        <p class="text-lg text-gray-600">
          Manage your calendar, schedule, and periodic events in one place.
        </p>
        <div class="flex space-x-4 justify-center">
          <ButtonLink href="/login">Get Started</ButtonLink>
          <ButtonLink variant="secondary" href="/register">
            Create Account
          </ButtonLink>
        </div>
      </div>
    </CardContent>
  </Card>
</PublicLayout>
